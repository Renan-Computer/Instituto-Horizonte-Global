<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voluntariado - Instituto Horizonte Global</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2c5530;
            --secondary: #7a9e7e;
            --accent: #e8b054;
            --light: #f5f5f5;
            --dark: #1a1a1a;
            --text: #333333;
            --text-light: #777777;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background-color: var(--light);
        }

        /* 🔧 CORREÇÃO: Link de acessibilidade */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #000;
            color: #fff;
            padding: 12px;
            z-index: 10000;
            text-decoration: none;
            border-radius: 4px;
            font-weight: 600;
            transition: top 0.3s ease;
        }

        .skip-link:focus {
            top: 0;
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            color: var(--primary);
            font-size: 2rem;
        }
        
        .logo h1 {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
            transition: var(--transition);
            padding: 8px 16px;
            border-radius: 6px;
            display: block;
        }
        
        nav a:hover, nav a.active {
            color: var(--primary);
            background-color: rgba(44, 85, 48, 0.1);
        }

        /* 🔧 CORREÇÃO: Foco visível */
        nav a:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
            background-color: rgba(44, 85, 48, 0.1);
        }
        
        .mobile-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            background: none;
            border: 2px solid transparent;
            padding: 8px;
            border-radius: 4px;
            color: var(--text);
            transition: var(--transition);
        }

        .mobile-menu:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
            border-color: var(--accent);
        }
        
        /* Hero Voluntariado */
        .hero-voluntariado {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1559027615-cd4628902d4a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            padding: 100px 0;
        }
        
        .hero-voluntariado h1 {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .hero-voluntariado p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* Seções Gerais */
        .section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            color: var(--primary);
            position: relative;
        }
        
        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 3px;
            background-color: var(--accent);
            margin: 15px auto;
        }
        
        .bg-light {
            background-color: #f9f9f9;
        }
        
        /* Progress Steps */
        .progress-steps {
            display: flex;
            justify-content: center;
            margin-bottom: 50px;
            position: relative;
        }
        
        .progress-steps:before {
            content: '';
            position: absolute;
            top: 25px;
            left: 10%;
            right: 10%;
            height: 3px;
            background: var(--secondary);
            z-index: 1;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            flex: 1;
            max-width: 200px;
        }
        
        .step-number {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: white;
            border: 3px solid var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--secondary);
            margin-bottom: 10px;
            transition: var(--transition);
        }
        
        .step.active .step-number {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }
        
        .step.completed .step-number {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }
        
        .step-text {
            font-size: 0.9rem;
            text-align: center;
            color: var(--text-light);
        }
        
        .step.active .step-text {
            color: var(--primary);
            font-weight: 600;
        }
        
        /* Formulários */
        .form-container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: var(--shadow);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-step {
            display: none;
        }
        
        .form-step.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }
        
        .required:after {
            content: ' *';
            color: #e74c3c;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            font-family: inherit;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(44, 85, 48, 0.1);
        }

        /* 🔧 CORREÇÃO: Foco visível para acessibilidade */
        input:focus-visible, 
        select:focus-visible, 
        textarea:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }
        
        textarea {
            resize: vertical;
            min-height: 120px;
        }
        
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .checkbox-item input {
            width: auto;
            margin-top: 5px;
        }
        
        .checkbox-label {
            font-weight: normal;
            color: var(--text);
        }

        /* 🔧 CORREÇÃO: Mensagens de campo */
        .field-message {
            font-size: 0.8rem;
            margin-top: 5px;
            min-height: 18px;
        }
        
        /* Cards de Projetos */
        .projetos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .projeto-option {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }
        
        .projeto-option:hover {
            border-color: var(--secondary);
            transform: translateY(-5px);
        }
        
        .projeto-option.selected {
            border-color: var(--primary);
            background: rgba(44, 85, 48, 0.05);
        }
        
        .projeto-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .badge-ativo {
            background: #27ae60;
            color: white;
        }
        
        .badge-expansao {
            background: #f39c12;
            color: white;
        }
        
        .badge-piloto {
            background: #3498db;
            color: white;
        }
        
        .badge-sugestao {
            background: #9b59b6;
            color: white;
        }
        
        .projeto-option h4 {
            color: var(--primary);
            margin-bottom: 10px;
            padding-right: 80px;
        }
        
        .projeto-option p {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        .projeto-stats {
            display: flex;
            gap: 15px;
            font-size: 0.8rem;
            color: var(--text-light);
        }
        
        .projeto-stats span {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* Botões de Navegação */
        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #e0e0e0;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--accent);
            color: white;
            padding: 12px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            border: 2px solid transparent;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .btn:hover {
            background-color: #d19c3a;
            transform: translateY(-3px);
        }

        .btn:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .btn-outline:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }
        
        .btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Benefícios */
        .beneficios-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .beneficio-card {
            text-align: center;
            padding: 30px 20px;
            background: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
            border: 2px solid transparent;
            transition: var(--transition);
        }

        .beneficio-card:focus-within {
            border-color: var(--accent);
            transform: translateY(-5px);
        }
        
        .beneficio-icon {
            font-size: 2.5rem;
            color: var(--accent);
            margin-bottom: 20px;
        }
        
        .beneficio-card h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        /* Gráficos */
        .graficos-voluntariado {
            margin-top: 50px;
        }
        
        .grafico-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 40px;
            margin-bottom: 50px;
        }
        
        .grafico-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: var(--shadow);
        }
        
        .grafico-card h3 {
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .grafico-wrapper {
            height: 300px;
            position: relative;
        }
        
        .grafico-legenda {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .legenda-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legenda-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }
        
        .metricas-voluntariado {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
        }
        
        .metrica-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: var(--transition);
            border: 2px solid transparent;
        }
        
        .metrica-card:hover {
            transform: translateY(-5px);
            background: var(--primary);
            color: white;
        }

        .metrica-card:focus-within {
            border-color: var(--accent);
            transform: translateY(-3px);
        }
        
        .metrica-card:hover .metrica-icon {
            color: var(--accent);
        }
        
        .metrica-icon {
            font-size: 2.5rem;
            color: var(--primary);
        }
        
        .metrica-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .metrica-card:hover .metrica-number {
            color: white;
        }
        
        .metrica-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .metrica-card:hover .metrica-label {
            color: rgba(255, 255, 255, 0.9);
        }
        
        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            color: var(--accent);
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 10px;
        }
        
        .footer-column a {
            color: #cccccc;
            text-decoration: none;
            transition: var(--transition);
            padding: 4px 0;
            display: block;
        }
        
        .footer-column a:hover {
            color: var(--accent);
        }

        .footer-column a:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
            color: var(--accent);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: var(--transition);
            text-decoration: none;
        }
        
        .social-links a:hover {
            background-color: var(--accent);
            transform: translateY(-5px);
        }

        .social-links a:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
            background-color: var(--accent);
            transform: translateY(-2px);
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaaaaa;
            font-size: 0.9rem;
        }
        
        /* Responsividade */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero-voluntariado h1 {
                font-size: 2.2rem;
            }
            
            .hero-voluntariado p {
                font-size: 1.1rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .progress-steps {
                flex-direction: column;
                align-items: center;
                gap: 30px;
            }
            
            .progress-steps:before {
                display: none;
            }
            
            .form-container {
                padding: 25px;
            }
            
            .grafico-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 576px) {
            .mobile-menu {
                display: block;
            }
            
            nav ul {
                display: none;
                flex-direction: column;
                width: 100%;
                text-align: center;
                margin-top: 15px;
                gap: 10px;
            }
            
            nav ul.show {
                display: flex;
            }
            
            .section {
                padding: 50px 0;
            }
            
            .projetos-grid {
                grid-template-columns: 1fr;
            }
            
            .form-navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
                text-align: center;
            }
            
            .grafico-card {
                padding: 20px;
            }
        }

        /* 🔧 CORREÇÃO: Preferência por movimento reduzido */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
    </style>
</head>
<body>
    <!-- 🔧 CORREÇÃO: Link de acessibilidade -->
    <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>
    
    <!-- 🔧 CORREÇÃO: Header com role semântico -->
    <header role="banner">
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-globe-americas logo-icon" aria-hidden="true"></i>
                <h1>Instituto Horizonte Global</h1>
            </div>
            <!-- 🔧 CORREÇÃO: Botão mobile acessível -->
            <button class="mobile-menu" aria-expanded="false" aria-controls="main-navigation" aria-label="Abrir menu de navegação">
                <i class="fas fa-bars" aria-hidden="true"></i>
                <span class="sr-only">Menu</span>
            </button>
            <!-- 🔧 CORREÇÃO: Navegação com aria-label -->
            <nav aria-label="Navegação principal">
                <ul id="main-navigation">
                    <li><a href="index.html">Início</a></li>
                    <li><a href="sobre.html">Sobre</a></li>
                    <li><a href="projetos.html">Projetos</a></li>
                    <li><a href="voluntariado.html" class="active" aria-current="page">Voluntariado</a></li>
                    <li><a href="doacoes.html">Doações</a></li>
                    <li><a href="transparencia.html">Transparência</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="contato.html">Contato</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Voluntariado -->
    <section class="hero-voluntariado" aria-labelledby="hero-title">
        <div class="container">
            <h1 id="hero-title">Junte-se ao Nosso Time de Voluntários</h1>
            <p>Faça a diferença na vida de milhares de pessoas e seja parte ativa da transformação social</p>
        </div>
    </section>

    <!-- 🔧 CORREÇÃO: Main com role e id para skip link -->
    <main id="main-content" role="main">
        <!-- Progress Steps -->
        <section class="section" aria-labelledby="progress-title">
            <div class="container">
                <h2 id="progress-title" class="sr-only">Processo de Inscrição</h2>
                <div class="progress-steps">
                    <div class="step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-text">Identificação</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-text">Escolha de Projetos</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-text">Confirmação</div>
                    </div>
                </div>

                <!-- Formulário de Identificação -->
                <div class="form-container">
                    <div class="form-step active" id="step1">
                        <h2 class="section-title" style="margin-bottom: 30px;">Seus Dados Pessoais</h2>
                        
                        <form id="formIdentificacao">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="nome" class="required">Nome Completo</label>
                                    <input type="text" id="nome" name="nome" required aria-required="true">
                                    <div class="field-message"></div>
                                </div>
                                <div class="form-group">
                                    <label for="email" class="required">E-mail</label>
                                    <input type="email" id="email" name="email" required aria-required="true">
                                    <div class="field-message"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="telefone" class="required">Telefone</label>
                                    <input type="tel" id="telefone" name="telefone" required aria-required="true">
                                    <div class="field-message"></div>
                                </div>
                                <div class="form-group">
                                    <label for="cidade" class="required">Cidade</label>
                                    <input type="text" id="cidade" name="cidade" required aria-required="true">
                                    <div class="field-message"></div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="cpf-voluntario" class="required">CPF</label>
                                    <input type="text" id="cpf-voluntario" name="cpf" required aria-required="true">
                                    <div class="field-message"></div>
                                </div>
                                <div class="form-group">
                                    <label for="cep-voluntario">CEP</label>
                                    <input type="text" id="cep-voluntario" name="cep">
                                    <div class="field-message"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="estado" class="required">Estado</label>
                                    <select id="estado" name="estado" required aria-required="true">
                                        <option value="">Selecione seu estado...</option>
                                        <option value="AC">Acre</option>
                                        <option value="AL">Alagoas</option>
                                        <option value="AP">Amapá</option>
                                        <option value="AM">Amazonas</option>
                                        <option value="BA">Bahia</option>
                                        <option value="CE">Ceará</option>
                                        <option value="DF">Distrito Federal</option>
                                        <option value="ES">Espírito Santo</option>
                                        <option value="GO">Goiás</option>
                                        <option value="MA">Maranhão</option>
                                        <option value="MT">Mato Grosso</option>
                                        <option value="MS">Mato Grosso do Sul</option>
                                        <option value="MG">Minas Gerais</option>
                                        <option value="PA">Pará</option>
                                        <option value="PB">Paraíba</option>
                                        <option value="PR">Paraná</option>
                                        <option value="PE">Pernambuco</option>
                                        <option value="PI">Piauí</option>
                                        <option value="RJ">Rio de Janeiro</option>
                                        <option value="RN">Rio Grande do Norte</option>
                                        <option value="RS">Rio Grande do Sul</option>
                                        <option value="RO">Rondônia</option>
                                        <option value="RR">Roraima</option>
                                        <option value="SC">Santa Catarina</option>
                                        <option value="SP">São Paulo</option>
                                        <option value="SE">Sergipe</option>
                                        <option value="TO">Tocantins</option>
                                    </select>
                                    <div class="field-message"></div>
                                </div>
                                <div class="form-group">
                                    <label for="idade">Idade</label>
                                    <input type="number" id="idade" name="idade" min="16" max="100">
                                    <div class="field-message"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="profissao">Profissão/Ocupação</label>
                                <input type="text" id="profissao" name="profissao" placeholder="Ex: Estudante, Engenheiro, Professor...">
                                <div class="field-message"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="experiencia">Experiência Prévia em Voluntariado</label>
                                <textarea id="experiencia" name="experiencia" placeholder="Conte-nos sobre suas experiências anteriores como voluntário, se houver..."></textarea>
                                <div class="field-message"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="habilidades">Habilidades e Competências</label>
                                <textarea id="habilidades" name="habilidades" placeholder="Quais são suas principais habilidades? (Ex: ensino, tecnologia, saúde, organização...)"></textarea>
                                <div class="field-message"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="disponibilidade" class="required">Disponibilidade Semanal</label>
                                <select id="disponibilidade" name="disponibilidade" required aria-required="true">
                                    <option value="">Selecione...</option>
                                    <option value="4h">Até 4 horas por semana</option>
                                    <option value="8h">4-8 horas por semana</option>
                                    <option value="12h">8-12 horas por semana</option>
                                    <option value="20h">Mais de 12 horas por semana</option>
                                    <option value="eventos">Apenas para eventos específicos</option>
                                </select>
                                <div class="field-message"></div>
                            </div>
                            
                            <div class="form-navigation">
                                <div></div>
                                <button type="button" class="btn" onclick="nextStep(2)">Próximo →</button>
                            </div>
                        </form>
                    </div>

                    <!-- Formulário de Escolha de Projetos -->
                    <div class="form-step" id="step2">
                        <h2 class="section-title" style="margin-bottom: 30px;">Escolha Seus Projetos de Interesse</h2>
                        
                        <form id="formProjetos">
                            <div class="form-group">
                                <label class="required">Selecione os projetos que mais te interessam:</label>
                                <div class="projetos-grid" role="list" aria-label="Lista de projetos disponíveis">
                                    <!-- Projetos Ativos -->
                                    <div class="projeto-option" data-projeto="educacao-infantil" role="listitem" tabindex="0">
                                        <div class="projeto-badge badge-ativo">Ativo</div>
                                        <h4>Educação Infantil</h4>
                                        <p>Alfabetização e desenvolvimento infantil em comunidades rurais do Nordeste</p>
                                        <div class="projeto-stats">
                                            <span><i class="fas fa-users" aria-hidden="true"></i> 2.500+ crianças</span>
                                            <span><i class="fas fa-map-marker-alt" aria-hidden="true"></i> Sertão</span>
                                        </div>
                                    </div>
                                    
                                    <div class="projeto-option" data-projeto="juventude-conectada" role="listitem" tabindex="0">
                                        <div class="projeto-badge badge-ativo">Ativo</div>
                                        <h4>Juventude Conectada</h4>
                                        <p>Capacitação tecnológica para jovens e adultos na economia digital</p>
                                        <div class="projeto-stats">
                                            <span><i class="fas fa-users" aria-hidden="true"></i> 3.200+ jovens</span>
                                            <span><i class="fas fa-laptop" aria-hidden="true"></i> Tecnologia</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Projetos em Expansão -->
                                    <div class="projeto-option" data-projeto="energia-solar" role="listitem" tabindex="0">
                                        <div class="projeto-badge badge-expansao">Em Expansão</div>
                                        <h4>Energia Solar Comunitária</h4>
                                        <p>Instalação de sistemas de energia solar em comunidades rurais</p>
                                        <div class="projeto-stats">
                                            <span><i class="fas fa-sun" aria-hidden="true"></i> 45 sistemas</span>
                                            <span><i class="fas fa-bolt" aria-hidden="true"></i> Sustentabilidade</span>
                                        </div>
                                    </div>
                                    
                                    <div class="projeto-option" data-projeto="saude-comunitaria" role="listitem" tabindex="0">
                                        <div class="projeto-badge badge-expansao">Em Expansão</div>
                                        <h4>Saúde Comunitária</h4>
                                        <p>Atendimento médico básico e prevenção em comunidades carentes</p>
                                        <div class="projeto-stats">
                                            <span><i class="fas fa-heartbeat" aria-hidden="true"></i> 5.000+ pessoas</span>
                                            <span><i class="fas fa-ambulance" aria-hidden="true"></i> Saúde</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Projetos Piloto -->
                                    <div class="projeto-option" data-projeto="inovacao-rural" role="listitem" tabindex="0">
                                        <div class="projeto-badge badge-piloto">Piloto</div>
                                        <h4>Inovação no Campo</h4>
                                        <p>Tecnologias agrícolas avançadas para otimizar a produção rural</p>
                                        <div class="projeto-stats">
                                            <span><i class="fas fa-tractor" aria-hidden="true"></i> 600+ produtores</span>
                                            <span><i class="fas fa-microchip" aria-hidden="true"></i> Inovação</span>
                                        </div>
                                    </div>
                                    
                                    <div class="projeto-option" data-projeto="cooperacao-internacional" role="listitem" tabindex="0">
                                        <div class="projeto-badge badge-piloto">Piloto</div>
                                        <h4>Cooperação Internacional</h4>
                                        <p>Expansão dos programas para países em desenvolvimento</p>
                                        <div class="projeto-stats">
                                            <span><i class="fas fa-globe-americas" aria-hidden="true"></i> 5 países</span>
                                            <span><i class="fas fa-handshake" aria-hidden="true"></i> Cooperação</span>
                                        </div>
                                    </div>
                                    
                                    <!-- Sugestão de Novo Projeto -->
                                    <div class="projeto-option" data-projeto="sugestao" role="listitem" tabindex="0">
                                        <div class="projeto-badge badge-sugestao">Sugestão</div>
                                        <h4>Sugerir Novo Projeto</h4>
                                        <p>Tem uma ideia inovadora? Conte-nos sobre sua sugestão de projeto</p>
                                        <div class="projeto-stats">
                                            <span><i class="fas fa-lightbulb" aria-hidden="true"></i> Inovação</span>
                                            <span><i class="fas fa-plus" aria-hidden="true"></i> Novo</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group" id="sugestao-projeto" style="display: none;">
                                <label for="novo-projeto" class="required">Descreva sua sugestão de projeto</label>
                                <textarea id="novo-projeto" name="novo-projeto" placeholder="Descreva detalhadamente sua ideia de projeto, objetivos, público-alvo e como poderia ser implementado..."></textarea>
                                <div class="field-message"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="motivacao" class="required">Por que você quer ser voluntário nestes projetos?</label>
                                <textarea id="motivacao" name="motivacao" required aria-required="true" placeholder="Compartilhe sua motivação e expectativas..."></textarea>
                                <div class="field-message"></div>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">Como prefere atuar?</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="presencial" name="modalidade" value="presencial">
                                        <label for="presencial" class="checkbox-label">Presencial</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="remoto" name="modalidade" value="remoto">
                                        <label for="remoto" class="checkbox-label">Remoto</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="hibrido" name="modalidade" value="hibrido">
                                        <label for="hibrido" class="checkbox-label">Híbrido</label>
                                    </div>
                                </div>
                                <div class="field-message"></div>
                            </div>
                            
                            <div class="form-navigation">
                                <button type="button" class="btn btn-outline" onclick="prevStep(1)">← Voltar</button>
                                <button type="button" class="btn" onclick="submitForm()">Enviar Inscrição</button>
                            </div>
                        </form>
                    </div>

                    <!-- Confirmação -->
                    <div class="form-step" id="step3">
                        <div style="text-align: center; padding: 40px 20px;">
                            <div style="font-size: 4rem; color: var(--accent); margin-bottom: 20px;">
                                <i class="fas fa-check-circle" aria-hidden="true"></i>
                            </div>
                            <h2 style="color: var(--primary); margin-bottom: 20px;">Inscrição Enviada com Sucesso!</h2>
                            <p style="font-size: 1.1rem; margin-bottom: 30px; color: var(--text-light);">
                                Obrigado por se inscrever como voluntário no Instituto Horizonte Global! 
                                Nossa equipe entrará em contato em até 48 horas para dar continuidade ao processo.
                            </p>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 30px 0;">
                                <h4 style="color: var(--primary); margin-bottom: 15px;">Próximos Passos:</h4>
                                <ul style="text-align: left; color: var(--text-light);">
                                    <li>Entraremos em contato por e-mail ou telefone</li>
                                    <li>Agendamento de entrevista de alinhamento</li>
                                    <li>Participação no treinamento de voluntários</li>
                                    <li>Início das atividades no projeto escolhido</li>
                                </ul>
                            </div>
                            <a href="index.html" class="btn">Voltar para a Página Inicial</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Benefícios do Voluntariado -->
        <section class="section bg-light" aria-labelledby="beneficios-title">
            <div class="container">
                <h2 id="beneficios-title" class="section-title">Benefícios de Ser Voluntário</h2>
                <div class="beneficios-grid" role="list" aria-label="Lista de benefícios do voluntariado">
                    <div class="beneficio-card" role="listitem" tabindex="0">
                        <div class="beneficio-icon">
                            <i class="fas fa-heart" aria-hidden="true"></i>
                        </div>
                        <h3>Transformação Social</h3>
                        <p>Contribua diretamente para a mudança positiva na vida de milhares de pessoas</p>
                    </div>
                    <div class="beneficio-card" role="listitem" tabindex="0">
                        <div class="beneficio-icon">
                            <i class="fas fa-users" aria-hidden="true"></i>
                        </div>
                        <h3>Networking</h3>
                        <p>Conecte-se com profissionais e pessoas que compartilham seus valores</p>
                    </div>
                    <div class="beneficio-card" role="listitem" tabindex="0">
                        <div class="beneficio-icon">
                            <i class="fas fa-graduation-cap" aria-hidden="true"></i>
                        </div>
                        <h3>Desenvolvimento</h3>
                        <p>Adquira novas habilidades e experiências profissionais valiosas</p>
                    </div>
                    <div class="beneficio-card" role="listitem" tabindex="0">
                        <div class="beneficio-icon">
                            <i class="fas fa-award" aria-hidden="true"></i>
                        </div>
                        <h3>Reconhecimento</h3>
                        <p>Certificado de participação e reconhecimento pelo trabalho realizado</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gráficos de Impacto -->
        <section class="section" aria-labelledby="graficos-title">
            <div class="container">
                <h2 id="graficos-title" class="section-title">Impacto do Voluntariado em Números</h2>
                
                <div class="graficos-voluntariado">
                    <div class="grafico-container">
                        <!-- Gráfico 1: Evolução de Voluntários -->
                        <div class="grafico-card">
                            <h3>Evolução de Voluntários (2015-2025)</h3>
                            <div class="grafico-wrapper">
                                <canvas id="graficoEvolucaoVoluntarios" aria-label="Gráfico mostrando crescimento de voluntários de 150 em 2015 para 3500 em 2025"></canvas>
                            </div>
                            <div class="grafico-legenda">
                                <div class="legenda-item">
                                    <span class="legenda-color" style="background: #2c5530;"></span>
                                    <span>Voluntários Ativos</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Gráfico 2: Impacto por Região -->
                        <div class="grafico-card">
                            <h3>Impacto Social por Região (2024)</h3>
                            <div class="grafico-wrapper">
                                <canvas id="graficoImpactoRegiao" aria-label="Gráfico de barras mostrando pessoas impactadas por região: Nordeste 25.320, Norte 8.450, Sudeste 6.830"></canvas>
                            </div>
                            <div class="grafico-legenda">
                                <div class="legenda-item">
                                    <span class="legenda-color" style="background: #e8b054;"></span>
                                    <span>Pessoas Impactadas</span>
                                </div>
                            </div>
                        </div>

                        <!-- 🔥 NOVO GRÁFICO: Metas de Sustentabilidade -->
                        <div class="grafico-card">
                            <h3>Metas de Sustentabilidade</h3>
                            <div class="grafico-wrapper">
                                <canvas id="metasSustentabilidade" aria-label="Gráfico de rosca mostrando progresso das metas: Energia Solar 75%, Água 60%, Reflorestamento 45%"></canvas>
                            </div>
                        </div>

                        <!-- 🔥 NOVO GRÁFICO: Alocação de Recursos -->
                        <div class="grafico-card">
                            <h3>Alocação de Recursos</h3>
                            <div class="grafico-wrapper">
                                <canvas id="alocacaoRecursos" aria-label="Gráfico polar mostrando distribuição de recursos: Educação 35%, Saúde 20%, Energia Solar 15%"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="metricas-voluntariado" role="list" aria-label="Métricas do voluntariado">
                        <div class="metrica-card" role="listitem" tabindex="0">
                            <div class="metrica-icon">
                                <i class="fas fa-users" aria-hidden="true"></i>
                            </div>
                            <div class="metrica-content">
                                <div class="metrica-number">2.847</div>
                                <div class="metrica-label">Voluntários em 2024</div>
                            </div>
                        </div>
                        
                        <div class="metrica-card" role="listitem" tabindex="0">
                            <div class="metrica-icon">
                                <i class="fas fa-heart" aria-hidden="true"></i>
                            </div>
                            <div class="metrica-content">
                                <div class="metrica-number">45.320</div>
                                <div class="metrica-label">Pessoas Impactadas</div>
                            </div>
                        </div>
                        
                        <div class="metrica-card" role="listitem" tabindex="0">
                            <div class="metrica-icon">
                                <i class="fas fa-clock" aria-hidden="true"></i>
                            </div>
                            <div class="metrica-content">
                                <div class="metrica-number">128.540</div>
                                <div class="metrica-label">Horas Doadas</div>
                            </div>
                        </div>
                        
                        <div class="metrica-card" role="listitem" tabindex="0">
                            <div class="metrica-icon">
                                <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                            </div>
                            <div class="metrica-content">
                                <div class="metrica-number">18</div>
                                <div class="metrica-label">Estados Atendidos</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 🔧 CORREÇÃO: Footer com role semântico -->
    <footer role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Instituto Horizonte Global</h3>
                    <p>Transformando vidas, construindo futuros desde 2009. Atuamos no desenvolvimento social e sustentável em comunidades no Brasil e no exterior.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f" aria-hidden="true"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in" aria-hidden="true"></i></a>
                        <a href="#" aria-label="YouTube"><i class="fab fa-youtube" aria-hidden="true"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Links Rápidos</h3>
                    <ul>
                        <li><a href="index.html">Início</a></li>
                        <li><a href="sobre.html">Sobre Nós</a></li>
                        <li><a href="projetos.html">Nossos Projetos</a></li>
                        <li><a href="voluntariado.html">Voluntariado</a></li>
                        <li><a href="blog.html">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Participe</h3>
                    <ul>
                        <li><a href="voluntariado.html">Seja Voluntário</a></li>
                        <li><a href="doacoes.html">Faça uma Doação</a></li>
                        <li><a href="parcerias.html">Seja Parceiro</a></li>
                        <li><a href="trabalhe-conosco.html">Trabalhe Conosco</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contato</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt" aria-hidden="true"></i> Sede Institucional: Empresarial Center III — Boa Viagem, Recife - PE</li>
                        <li><i class="fas fa-phone" aria-hidden="true"></i> +55 (81) 3333-3333</li>
                        <li><i class="fas fa-envelope" aria-hidden="true"></i> contato@horizontoglobal.org</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Instituto Horizonte Global. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // 🔧 CORREÇÃO: Elementos visualmente ocultos
        const style = document.createElement('style');
        style.textContent = `
            .sr-only {
                position: absolute;
                width: 1px;
                height: 1px;
                padding: 0;
                margin: -1px;
                overflow: hidden;
                clip: rect(0, 0, 0, 0);
                white-space: nowrap;
                border: 0;
            }
        `;
        document.head.appendChild(style);

        // Menu mobile com acessibilidade
        const mobileMenu = document.querySelector('.mobile-menu');
        const mainNav = document.querySelector('#main-navigation');

        function toggleMenu() {
            const isExpanded = mobileMenu.getAttribute('aria-expanded') === 'true';
            mobileMenu.setAttribute('aria-expanded', !isExpanded);
            mainNav.classList.toggle('show');
            
            // Atualizar o texto do botão para leitores de tela
            const menuLabel = isExpanded ? 'Abrir menu de navegação' : 'Fechar menu de navegação';
            mobileMenu.setAttribute('aria-label', menuLabel);
        }

        mobileMenu.addEventListener('click', toggleMenu);

        // Fechar menu ao pressionar Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && mainNav.classList.contains('show')) {
                toggleMenu();
                mobileMenu.focus();
            }
        });

        // Gerenciamento de foco no menu mobile
        if (window.matchMedia('(max-width: 576px)').matches) {
            const navLinks = mainNav.querySelectorAll('a');
            const firstLink = navLinks[0];
            const lastLink = navLinks[navLinks.length - 1];

            lastLink.addEventListener('keydown', function(e) {
                if (e.key === 'Tab' && !e.shiftKey) {
                    e.preventDefault();
                    mobileMenu.focus();
                }
            });

            mobileMenu.addEventListener('keydown', function(e) {
                if (e.key === 'Tab' && e.shiftKey && mainNav.classList.contains('show')) {
                    e.preventDefault();
                    lastLink.focus();
                }
            });
        }

        // Navegação entre steps
        function nextStep(step) {
            // Validação do step atual
            if (step === 2 && !validateStep1()) {
                return;
            }
            
            document.querySelectorAll('.form-step').forEach(form => {
                form.classList.remove('active');
            });
            document.getElementById('step' + step).classList.add('active');
            
            // Atualizar progress steps
            document.querySelectorAll('.step').forEach(stepEl => {
                stepEl.classList.remove('active');
                if (parseInt(stepEl.dataset.step) <= step) {
                    stepEl.classList.add('completed');
                }
                if (parseInt(stepEl.dataset.step) === step) {
                    stepEl.classList.add('active');
                }
            });
        }

        function prevStep(step) {
            document.querySelectorAll('.form-step').forEach(form => {
                form.classList.remove('active');
            });
            document.getElementById('step' + step).classList.add('active');
            
            // Atualizar progress steps
            document.querySelectorAll('.step').forEach(stepEl => {
                stepEl.classList.remove('active');
                if (parseInt(stepEl.dataset.step) <= step) {
                    stepEl.classList.add('completed');
                }
                if (parseInt(stepEl.dataset.step) === step) {
                    stepEl.classList.add('active');
                }
            });
        }

        // Validação de email
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        // Validação de CPF
        function validarCPF(cpf) {
            cpf = cpf.replace(/\D/g, '');
            if (cpf.length !== 11 || /^([0-9])\1+$/.test(cpf)) return false;
            let soma = 0, resto;
            for (let i = 1; i <= 9; i++) soma += parseInt(cpf.substring(i-1, i)) * (11 - i);
            resto = (soma * 10) % 11;
            if (resto === 10 || resto === 11) resto = 0;
            if (resto !== parseInt(cpf.substring(9, 10))) return false;
            soma = 0;
            for (let i = 1; i <= 10; i++) soma += parseInt(cpf.substring(i-1, i)) * (12 - i);
            resto = (soma * 10) % 11;
            if (resto === 10 || resto === 11) resto = 0;
            if (resto !== parseInt(cpf.substring(10, 11))) return false;
            return true;
        }

        // Validação do Step 1
        function validateStep1() {
            const requiredFields = document.querySelectorAll('#formIdentificacao [required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                const value = field.value.trim();
                let fieldValid = true;
                
                if (!value) {
                    fieldValid = false;
                } else if (field.type === 'email' && !validateEmail(value)) {
                    fieldValid = false;
                    showFieldError(field, 'Por favor, insira um e-mail válido.');
                } else if (field.id === 'cpf-voluntario' && !validarCPF(value)) {
                    fieldValid = false;
                    showFieldError(field, 'CPF inválido.');
                } else if (field.id === 'telefone' && value.replace(/\D/g, '').length < 10) {
                    fieldValid = false;
                    showFieldError(field, 'Telefone inválido.');
                }
                
                if (!fieldValid) {
                    field.style.borderColor = '#e74c3c';
                    isValid = false;
                } else {
                    field.style.borderColor = '#e0e0e0';
                    clearFieldError(field);
                }
            });
            
            if (!isValid) {
                // Scroll para o primeiro erro
                const firstError = document.querySelector('#formIdentificacao [style*="border-color: #e74c3c"]');
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    firstError.focus();
                }
            }
            
            return isValid;
        }

        function showFieldError(field, message) {
            let errorElement = field.nextElementSibling;
            if (!errorElement || !errorElement.classList.contains('field-message')) {
                errorElement = document.createElement('div');
                errorElement.className = 'field-message';
                field.parentNode.insertBefore(errorElement, field.nextSibling);
            }
            errorElement.textContent = message;
            errorElement.style.color = '#e74c3c';
        }

        function clearFieldError(field) {
            const errorElement = field.nextElementSibling;
            if (errorElement && errorElement.classList.contains('field-message')) {
                errorElement.textContent = '';
            }
        }

        // Seleção de projetos
        document.querySelectorAll('.projeto-option').forEach(option => {
            option.addEventListener('click', function() {
                this.classList.toggle('selected');
                
                // Mostrar/ocultar campo de sugestão
                if (this.dataset.projeto === 'sugestao' && this.classList.contains('selected')) {
                    document.getElementById('sugestao-projeto').style.display = 'block';
                } else if (this.dataset.projeto === 'sugestao') {
                    document.getElementById('sugestao-projeto').style.display = 'none';
                }
            });
        });

        // Envio do formulário
        function submitForm() {
            // Validar seleção de projetos
            const selectedProjects = document.querySelectorAll('.projeto-option.selected');
            if (selectedProjects.length === 0) {
                alert('Por favor, selecione pelo menos um projeto de interesse.');
                return;
            }
            
            // Validar motivação
            const motivacao = document.getElementById('motivacao');
            if (!motivacao.value.trim()) {
                motivacao.style.borderColor = '#e74c3c';
                alert('Por favor, compartilhe sua motivação para ser voluntário.');
                return;
            }
            
            // Validar modalidade
            const modalidades = document.querySelectorAll('input[name="modalidade"]:checked');
            if (modalidades.length === 0) {
                alert('Por favor, selecione pelo menos uma modalidade de atuação.');
                return;
            }
            
            // Se sugestão selecionada, validar campo
            const sugestaoSelected = document.querySelector('.projeto-option[data-projeto="sugestao"]').classList.contains('selected');
            if (sugestaoSelected) {
                const novoSugestao = document.getElementById('novo-projeto');
                if (!novoSugestao.value.trim()) {
                    novoSugestao.style.borderColor = '#e74c3c';
                    alert('Por favor, descreva sua sugestão de projeto.');
                    return;
                }
            }
            
            // Simular envio (em produção, aqui seria uma requisição AJAX)
            nextStep(3);
        }

        // Máscara para telefone
        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length <= 11) {
                value = value.replace(/(\d{2})(\d)/, '($1) $2');
                value = value.replace(/(\d{5})(\d)/, '$1-$2');
                e.target.value = value;
            }
        });

        // Máscara e validação de CPF
        const cpfInput = document.getElementById('cpf-voluntario');
        cpfInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 11) value = value.slice(0, 11);
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})\.(\d{3})(\d)/, '$1.$2.$3');
            value = value.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d)/, '$1.$2.$3-$4');
            e.target.value = value;
        });

        cpfInput.addEventListener('blur', function(e) {
            if (cpfInput.value && !validarCPF(cpfInput.value)) {
                showFieldError(cpfInput, 'CPF inválido');
                cpfInput.style.borderColor = '#e74c3c';
            } else {
                clearFieldError(cpfInput);
                cpfInput.style.borderColor = '#e0e0e0';
            }
        });

        // Máscara e busca automática de endereço para CEP
        const cepInput = document.getElementById('cep-voluntario');
        cepInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 8) value = value.slice(0, 8);
            if (value.length > 5) {
                value = value.replace(/(\d{5})(\d{1,3})/, '$1-$2');
            }
            e.target.value = value;
        });

        cepInput.addEventListener('blur', function(e) {
            const cep = cepInput.value.replace(/\D/g, '');
            if (cep.length === 8) {
                fetch(`https://viacep.com.br/ws/${cep}/json/`)
                    .then(res => res.json())
                    .then(data => {
                        if (data.erro) {
                            showFieldError(cepInput, 'CEP não encontrado');
                            cepInput.style.borderColor = '#e74c3c';
                        } else {
                            clearFieldError(cepInput);
                            cepInput.style.borderColor = '#e0e0e0';
                        }
                    })
                    .catch(() => {
                        showFieldError(cepInput, 'Erro ao buscar CEP');
                        cepInput.style.borderColor = '#e74c3c';
                    });
            } else if (cep.length > 0) {
                showFieldError(cepInput, 'CEP incompleto');
                cepInput.style.borderColor = '#e74c3c';
            } else {
                clearFieldError(cepInput);
                cepInput.style.borderColor = '#e0e0e0';
            }
        });

        // Gráficos
        document.addEventListener('DOMContentLoaded', function() {
            // Gráfico de Evolução de Voluntários
            const ctxEvolucao = document.getElementById('graficoEvolucaoVoluntarios').getContext('2d');
            new Chart(ctxEvolucao, {
                type: 'line',
                data: {
                    labels: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025*'],
                    datasets: [{
                        label: 'Voluntários Ativos',
                        data: [150, 280, 450, 620, 890, 1050, 1250, 1680, 2150, 2847, 3500],
                        borderColor: '#2c5530',
                        backgroundColor: 'rgba(44, 85, 48, 0.1)',
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Número de Voluntários'
                            }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                afterLabel: function(context) {
                                    if (context.dataIndex === 10) {
                                        return '* Previsão para 2025';
                                    }
                                    return '';
                                }
                            }
                        }
                    }
                }
            });

            // Gráfico de Impacto por Região
            const ctxImpacto = document.getElementById('graficoImpactoRegiao').getContext('2d');
            new Chart(ctxImpacto, {
                type: 'bar',
                data: {
                    labels: ['Nordeste', 'Norte', 'Sudeste', 'Centro-Oeste', 'Sul', 'Internacional'],
                    datasets: [{
                        label: 'Pessoas Impactadas',
                        data: [25320, 8450, 6830, 3210, 1560, 950],
                        backgroundColor: [
                            '#e8b054',
                            '#2c5530',
                            '#7a9e7e',
                            '#d19c3a',
                            '#27ae60',
                            '#3498db'
                        ],
                        borderColor: '#fff',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Pessoas Impactadas'
                            }
                        }
                    }
                }
            });

            // 🔥 NOVO GRÁFICO: Metas de Sustentabilidade
            const ctxMetas = document.getElementById('metasSustentabilidade').getContext('2d');
            new Chart(ctxMetas, {
                type: 'doughnut',
                data: {
                    labels: [
                        'Energia Solar Instalada',
                        'Água Economizada (litros)',
                        'Áreas Reflorestadas',
                        'Agricultura Sustentável',
                        'Educação Ambiental'
                    ],
                    datasets: [{
                        data: [75, 60, 45, 80, 90],
                        backgroundColor: [
                            '#e8b054',
                            '#3498db',
                            '#27ae60',
                            '#2c5530',
                            '#7a9e7e'
                        ],
                        borderColor: '#fff',
                        borderWidth: 2,
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true,
                                pointStyle: 'circle'
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.raw || 0;
                                    return `${label}: ${value}% da meta alcançada`;
                                }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });

            // 🔥 NOVO GRÁFICO: Alocação de Recursos
            const ctxAlocacao = document.getElementById('alocacaoRecursos').getContext('2d');
            new Chart(ctxAlocacao, {
                type: 'polarArea',
                data: {
                    labels: [
                        'Educação Infantil',
                        'Saúde Comunitária',
                        'Energia Solar',
                        'Capacitação',
                        'Infraestrutura',
                        'Administração'
                    ],
                    datasets: [{
                        data: [35, 20, 15, 12, 10, 8],
                        backgroundColor: [
                            'rgba(44, 85, 48, 0.8)',
                            'rgba(232, 176, 84, 0.8)',
                            'rgba(122, 158, 126, 0.8)',
                            'rgba(52, 152, 219, 0.8)',
                            'rgba(155, 89, 182, 0.8)',
                            'rgba(149, 165, 166, 0.8)'
                        ],
                        borderColor: '#fff',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                padding: 15,
                                usePointStyle: true,
                                pointStyle: 'circle'
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.raw || 0;
                                    return `${label}: ${value}% dos recursos`;
                                }
                            }
                        }
                    },
                    scales: {
                        r: {
                            ticks: {
                                display: false
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>